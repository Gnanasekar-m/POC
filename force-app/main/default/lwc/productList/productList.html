<template>
    <lightning-card icon-name="custom:custom63">
      <h1 slot="title">{productStockObjectlLabel}</h1>
      <!-- <div dir="rtl" class="slds-m-top_medium slds-m-bottom_x-large">-->
      <div dir="rtl" class="slds-m-top_medium slds-m-bottom_x-large">
        <lightning-button-icon icon-name="utility:refresh" class="slds-button slds-button_icon slds-button_icon-border-filled" variant="border-filled" onclick={handleReset}
          alternative-text="Refresh"></lightning-button-icon>
        <lightning-button-icon icon-name="utility:filter" class="slds-button slds-button_icon slds-button_icon-border-filled" variant="border-filled" onclick={handleToggleButtonChange}
          alternative-text="Filter"></lightning-button-icon>
      </div>
      <form>
        <template if:true={areDetailsVisible}>
          <div class="slds-box slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none">
            <lightning-layout multiple-rows>
              <lightning-layout-item size="4" medium-device-size="3" padding="around-small">
                <lightning-combobox name="progress" label={productStockLabels.fields.SVMXC__Product__c.label}
                  value={productvalue} options={optionsforString} onchange={handleProductComboboxChange}>
                </lightning-combobox>
              </lightning-layout-item>
              <lightning-layout-item size="5" medium-device-size="3" padding="around-small">
                <lightning-input onblur={handleKeyChange} class="slds-m-bottom_small" name="productname" label=""
                  value={searchProduct}></lightning-input>
              </lightning-layout-item>
              <lightning-layout-item size="4" medium-device-size="3" padding="around-small">
                <lightning-combobox name="progress" label={productStockLabels.fields.SVMXC__Available_Qty__c.label}
                  value={availblevalue} options={optionsforNumber} onchange={handleAvlQtyComboboxChange}>
                </lightning-combobox>
              </lightning-layout-item>
              <lightning-layout-item size="5" medium-device-size="3" padding="around-small">
                <lightning-input type="number" onblur={handleKeyChange} class="slds-m-bottom_small" name="avlqtyname" label=""
                  value={searchAvlQty}></lightning-input>
              </lightning-layout-item>
              <lightning-layout-item size="4" medium-device-size="3" padding="around-small">
                <lightning-combobox name="progress" label={productStockLabels.fields.SVMXC__Quantity2__c.label}
                  value={qtyvalue} options={optionsforNumber} onchange={handleQtyComboboxChange}></lightning-combobox>
              </lightning-layout-item>
              <lightning-layout-item size="5" medium-device-size="3" padding="around-small">
                <lightning-input type="number" onblur={handleKeyChange} class="slds-bottom_small" name="qtyname" label=""
                  value={searchQty}></lightning-input>
              </lightning-layout-item>
              <lightning-layout-item size="4" medium-device-size="3" padding="around-small">
                <lightning-combobox name="progress" label="Stock Number" value={stocknumbervalue}
                  options={optionsforString} onchange={handleStockNumComboboxChange}></lightning-combobox>
              </lightning-layout-item>
              <lightning-layout-item size="5" medium-device-size="3" padding="around-small">
                <lightning-input onblur={handleKeyChange} class="slds-m-bottom_small" name="stockname" label=""
                  value={searchStockName}></lightning-input>
              </lightning-layout-item>
            </lightning-layout>
          </div>
  
        </template>
      </form>
      <div class="slds-m-around_medium">
  
        <template if:true={productvar}>
          <lightning-datatable key-field="Id" data={productvar} columns={columns} hide-checkbox-column
            default-sort-direction={defaultSortDirection} sorted-direction={sortDirection} sorted-by={sortBy}
            onsort={updateColumnSorting}>
          </lightning-datatable>
        </template>
      </div>
      <div if:true={enableSpinner} class="slds-spinner_inline spinner-padding">
        <lightning-spinner variant="brand" alternative-text="Loading Records" size="large">
        </lightning-spinner>
      </div>
      <p class="slds-m-vertical_medium content">{label.l_TotalPage} <b>{totalrecords} </b>   {label.l_Page} <b>{currentpage}</b> of
        <b> {totalpages}</b></p>
    </lightning-card>
  </template>